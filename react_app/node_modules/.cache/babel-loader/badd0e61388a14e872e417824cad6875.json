{"ast":null,"code":"var _jsxFileName = \"/Users/bbe/Dev/Module/binance_assignment/src/my_provider.js\";\nimport React from 'react';\nimport MyContext from './my_context.js';\nconst api = '/get-products'; // let recur_foo = (num, data_list, data_dict) => {\n//     if (num <= 0) {\n//         return data_dict\n//     }\n//     var temp_l = []\n//     var key = data_list[num-1]['b']\n//     data_list.forEach(\n//         i => {\n//             if (i.pm === key) {\n//                 temp_l.push(i.b)\n//             }\n//         }\n//     )\n//     data_dict[key] = temp_l\n//     num -= 1\n//     return recur_foo(num, data_list, data_dict)\n// }\n\nclass MyProvider extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handle_click = props.callback;\n    this.state = {\n      market_data: [],\n      // market_structure: [],\n      loaded: false\n    };\n  }\n\n  componentDidMount() {\n    fetch(api).then(res => {\n      return res.json();\n    }).then(output => {\n      var api_data = output.data; // var num = api_data.length\n      // var data_list = api_data\n      // var data_dict = {}\n      // var data = recur_foo(num, data_list, data_dict)\n\n      this.setState({\n        market_data: api_data,\n        // market_structure: data,\n        loaded: true\n      });\n      this.handle_click(api_data); // give api data back to index for forming the UI menue\n    });\n  }\n\n  render() {\n    if (this.state.loaded) {\n      return /*#__PURE__*/React.createElement(MyContext.Provider, {\n        value: {\n          data: this.state.market_data\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }\n      }, this.props.children);\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }\n      }, \" Loading ... \"));\n    }\n  }\n\n}\n\nexport default MyProvider;","map":{"version":3,"sources":["/Users/bbe/Dev/Module/binance_assignment/src/my_provider.js"],"names":["React","MyContext","api","MyProvider","Component","constructor","props","handle_click","callback","state","market_data","loaded","componentDidMount","fetch","then","res","json","output","api_data","data","setState","render","children"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AAKA,MAAMC,GAAG,GAAG,eAAZ,C,CAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA,MAAMC,UAAN,SAAyBH,KAAK,CAACI,SAA/B,CAAyC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,YAAL,GAAoBD,KAAK,CAACE,QAA1B;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,WAAW,EAAE,EADJ;AAET;AACAC,MAAAA,MAAM,EAAE;AAHC,KAAb;AAKH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,KAAK,CAACX,GAAD,CAAL,CACCY,IADD,CAEIC,GAAG,IAAI;AACH,aAAOA,GAAG,CAACC,IAAJ,EAAP;AACH,KAJL,EAMCF,IAND,CAMOG,MAAD,IAAY;AACd,UAAIC,QAAQ,GAAGD,MAAM,CAACE,IAAtB,CADc,CAEd;AACA;AACA;AACA;;AACA,WAAKC,QAAL,CAAc;AACVV,QAAAA,WAAW,EAAEQ,QADH;AAEV;AACAP,QAAAA,MAAM,EAAE;AAHE,OAAd;AAKA,WAAKJ,YAAL,CAAkBW,QAAlB,EAXc,CAWc;AAC/B,KAlBD;AAmBH;;AAEDG,EAAAA,MAAM,GAAG;AACL,QAAI,KAAKZ,KAAL,CAAWE,MAAf,EAAuB;AACnB,0BACI,oBAAC,SAAD,CAAW,QAAX;AACI,QAAA,KAAK,EAAI;AACLQ,UAAAA,IAAI,EAAE,KAAKV,KAAL,CAAWC;AADZ,SADb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKK,KAAKJ,KAAL,CAAWgB,QALhB,CADJ;AASH,KAVD,MAWK;AACD,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,CADJ;AAKH;AACJ;;AApDoC;;AAuDzC,eAAenB,UAAf","sourcesContent":["import React from 'react';\nimport MyContext from './my_context.js';\n\n\n\n\nconst api = '/get-products'\n\n// let recur_foo = (num, data_list, data_dict) => {\n//     if (num <= 0) {\n//         return data_dict\n//     }\n\n//     var temp_l = []\n//     var key = data_list[num-1]['b']\n\n//     data_list.forEach(\n//         i => {\n//             if (i.pm === key) {\n//                 temp_l.push(i.b)\n//             }\n//         }\n//     )\n\n//     data_dict[key] = temp_l\n//     num -= 1\n//     return recur_foo(num, data_list, data_dict)\n// }\n\nclass MyProvider extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handle_click = props.callback\n        this.state = {\n            market_data: [],\n            // market_structure: [],\n            loaded: false\n        };\n    }\n\n    componentDidMount() {\n        fetch(api)\n        .then(\n            res => {\n                return res.json()\n            }\n        )\n        .then((output) => {\n            var api_data = output.data\n            // var num = api_data.length\n            // var data_list = api_data\n            // var data_dict = {}\n            // var data = recur_foo(num, data_list, data_dict)\n            this.setState({\n                market_data: api_data,\n                // market_structure: data,\n                loaded: true\n            })\n            this.handle_click(api_data) // give api data back to index for forming the UI menue\n        })\n    }\n\n    render() {\n        if (this.state.loaded) {\n            return (\n                <MyContext.Provider\n                    value = {{\n                        data: this.state.market_data\n                    }}\n                >\n                    {this.props.children}\n                </MyContext.Provider>\n            );\n        }\n        else {\n            return (\n                <div>\n                    <h1> Loading ... </h1>\n                </div>\n            );\n        }\n    }\n}\n\nexport default MyProvider;"]},"metadata":{},"sourceType":"module"}