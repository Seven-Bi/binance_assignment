{"ast":null,"code":"var _jsxFileName = \"/Users/bbe/Dev/Module/binance_assignment/src/my_provider.js\";\nimport React from 'react';\nimport MyContext from './my_context.js';\nconst api = '/get-products';\n\nlet recur_foo = (num, data_list, data_dict) => {\n  if (num <= 0) {\n    return data_dict;\n  }\n\n  var temp_l = [];\n  var key = data_list[num - 1]['b'];\n  data_list.map(i => {\n    if (i.pm === key) {\n      temp_l.push(i.b);\n    }\n  });\n  data_dict[key] = temp_l;\n  num -= 1;\n  return recur_foo(num, data_list, data_dict);\n};\n\nclass MyProvider extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      market_structure: [],\n      market_data: []\n    };\n    this.temp = [];\n  }\n\n  componentDidMount() {\n    fetch(api).then(res => {\n      return res.json();\n    }).then(output => {\n      var api_data = output.data;\n      var num = api_data.length;\n      var data_list = api_data;\n      var data_dict = {};\n      var data = recur_foo(num, data_list, data_dict);\n      temp = data; // this.setState({market_structure: data, market_data: api_data})\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(MyContext.Provider, {\n      value: {\n        market_structure: this.state.market_structure,\n        market_data: this.state.market_data\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, console.log(temp), this.props.children);\n  }\n\n}\n\nexport default MyProvider;","map":{"version":3,"sources":["/Users/bbe/Dev/Module/binance_assignment/src/my_provider.js"],"names":["React","MyContext","api","recur_foo","num","data_list","data_dict","temp_l","key","map","i","pm","push","b","MyProvider","Component","constructor","props","state","market_structure","market_data","temp","componentDidMount","fetch","then","res","json","output","api_data","data","length","render","console","log","children"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AAIA,MAAMC,GAAG,GAAG,eAAZ;;AAEA,IAAIC,SAAS,GAAG,CAACC,GAAD,EAAMC,SAAN,EAAiBC,SAAjB,KAA+B;AAC3C,MAAIF,GAAG,IAAI,CAAX,EAAc;AACV,WAAOE,SAAP;AACH;;AAED,MAAIC,MAAM,GAAG,EAAb;AACA,MAAIC,GAAG,GAAGH,SAAS,CAACD,GAAG,GAAC,CAAL,CAAT,CAAiB,GAAjB,CAAV;AAEAC,EAAAA,SAAS,CAACI,GAAV,CACIC,CAAC,IAAI;AACD,QAAIA,CAAC,CAACC,EAAF,KAASH,GAAb,EAAkB;AACdD,MAAAA,MAAM,CAACK,IAAP,CAAYF,CAAC,CAACG,CAAd;AACH;AACJ,GALL;AAOAP,EAAAA,SAAS,CAACE,GAAD,CAAT,GAAiBD,MAAjB;AACAH,EAAAA,GAAG,IAAI,CAAP;AACA,SAAOD,SAAS,CAACC,GAAD,EAAMC,SAAN,EAAiBC,SAAjB,CAAhB;AACH,CAlBD;;AAoBA,MAAMQ,UAAN,SAAyBd,KAAK,CAACe,SAA/B,CAAyC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,gBAAgB,EAAE,EADT;AAETC,MAAAA,WAAW,EAAE;AAFJ,KAAb;AAIA,SAAKC,IAAL,GAAY,EAAZ;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,KAAK,CAACrB,GAAD,CAAL,CACCsB,IADD,CAEIC,GAAG,IAAI;AACH,aAAOA,GAAG,CAACC,IAAJ,EAAP;AACH,KAJL,EAMCF,IAND,CAMOG,MAAD,IAAY;AACd,UAAIC,QAAQ,GAAGD,MAAM,CAACE,IAAtB;AACA,UAAIzB,GAAG,GAAGwB,QAAQ,CAACE,MAAnB;AACA,UAAIzB,SAAS,GAAGuB,QAAhB;AACA,UAAItB,SAAS,GAAG,EAAhB;AACA,UAAIuB,IAAI,GAAG1B,SAAS,CAACC,GAAD,EAAMC,SAAN,EAAiBC,SAAjB,CAApB;AACAe,MAAAA,IAAI,GAAGQ,IAAP,CANc,CAOd;AAEH,KAfD;AAgBH;;AAEDE,EAAAA,MAAM,GAAG;AACL,wBACI,oBAAC,SAAD,CAAW,QAAX;AACI,MAAA,KAAK,EAAE;AACHZ,QAAAA,gBAAgB,EAAE,KAAKD,KAAL,CAAWC,gBAD1B;AAEHC,QAAAA,WAAW,EAAE,KAAKF,KAAL,CAAWE;AAFrB,OADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMKY,OAAO,CAACC,GAAR,CAAYZ,IAAZ,CANL,EAOK,KAAKJ,KAAL,CAAWiB,QAPhB,CADJ;AAWH;;AAzCoC;;AA4CzC,eAAepB,UAAf","sourcesContent":["import React from 'react';\nimport MyContext from './my_context.js';\n\n\n\nconst api = '/get-products'\n\nlet recur_foo = (num, data_list, data_dict) => {\n    if (num <= 0) {\n        return data_dict\n    }\n\n    var temp_l = []\n    var key = data_list[num-1]['b']\n\n    data_list.map(\n        i => {\n            if (i.pm === key) {\n                temp_l.push(i.b)\n            }\n        }\n    )\n    data_dict[key] = temp_l\n    num -= 1\n    return recur_foo(num, data_list, data_dict)\n}\n\nclass MyProvider extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            market_structure: [],\n            market_data: [],\n        };\n        this.temp = []\n    }\n\n    componentDidMount() {\n        fetch(api)\n        .then(\n            res => {\n                return res.json()\n            }\n        )\n        .then((output) => {\n            var api_data = output.data\n            var num = api_data.length\n            var data_list = api_data\n            var data_dict = {}\n            var data = recur_foo(num, data_list, data_dict)\n            temp = data\n            // this.setState({market_structure: data, market_data: api_data})\n\n        })\n    }\n\n    render() {\n        return (\n            <MyContext.Provider\n                value={{\n                    market_structure: this.state.market_structure, \n                    market_data: this.state.market_data\n                }}\n            >\n                {console.log(temp)}\n                {this.props.children}\n            </MyContext.Provider>\n        );\n    }\n}\n\nexport default MyProvider;\n"]},"metadata":{},"sourceType":"module"}